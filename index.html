<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Jingle Date Jar üíï</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 1s ease;
    }

    /* Seasonal backgrounds */
    body.spring { background: radial-gradient(circle at top, #d4f0d4, #a0e6a0); }
    body.summer { background: radial-gradient(circle at top, #fff0b3, #ffd97d); }
    body.fall { background: radial-gradient(circle at top, #ffd8b3, #ffb38f); }
    body.winter { background: radial-gradient(circle at top, #d1e0ff, #a3c4ff); }

    .card {
      background: white;
      border-radius: 28px;
      padding: 34px 30px;
      width: 90%;
      max-width: 420px;
      text-align: center;
      box-shadow: 0 30px 60px rgba(0,0,0,0.25);
      position: relative;
      z-index: 2;
    }

    h1 { margin-top: 0; color: #e75480; font-weight: 700; }
    p { color: #555; }
    button {
      background: linear-gradient(135deg, #ff5f9e, #ff8bbd);
      color: white;
      border: none;
      padding: 16px 34px;
      border-radius: 999px;
      font-size: 17px;
      cursor: pointer;
      margin-top: 24px;
      box-shadow: 0 10px 25px rgba(231,84,128,0.4);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }
    button:active { transform: scale(0.96); box-shadow: 0 6px 16px rgba(231,84,128,0.3); }
    .reset-button { background: linear-gradient(135deg, #a0a0a0, #d0d0d0); margin-left: 10px; }

    #result { margin-top: 26px; font-size: 20px; color: #222; min-height: 52px; }

    .footer { margin-top: 22px; font-size: 12px; color: #777; }

    /* Jar */
    .jar {
      margin: 20px auto 10px;
      width: 90px;
      height: 120px;
      border: 3px solid #e75480;
      border-radius: 0 0 18px 18px;
      position: relative;
      overflow: hidden;
    }
    .jar::before {
      content: "";
      position: absolute;
      top: -16px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 16px;
      border: 3px solid #e75480;
      border-bottom: none;
      border-radius: 12px 12px 0 0;
      background: white;
    }

    .note { position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); font-size: 18px; animation: drop 0.6s ease forwards; }
    @keyframes drop { to { bottom: 10px; } }

    .heart { position: absolute; bottom: -20px; font-size: 18px; animation: floatUp linear forwards; opacity: 0.8; }
    @keyframes floatUp { to { transform: translateY(-110vh); opacity: 0; } }

    #memory { margin-top: 20px; max-height: 120px; overflow-y: auto; font-size: 14px; color: #555; text-align: left; padding: 0 8px; }
    #memory h3 { margin: 0 0 6px 0; font-size: 16px; color: #e75480; }
  </style>
</head>

<body>
  <div class="card">
    <h1>Les douze aventures des Jingles üíñ</h1>
    <p>Quelle sorte de manigance nous r√©serve ce mois-ci ? </p>

    <div class="jar" id="jar"></div>

    <button onclick="pickDate()">Choisi une date üé≤</button>
    <button class="reset-button" onclick="resetLast()">Reset ‚ùå</button>

    <div id="result"></div>

    <div id="memory">
      <h3>Nos aventures:</h3>
      <ul id="memoryList"></ul>
    </div>

    <div class="footer">Pour ma silly goose ‚ù§Ô∏è</div>
  </div>

  <script>
    const dates = [
      "Cours de cuisine au Brix",
      "Visite au zoo",
      "Akadi Lumina ‚ú®",
      "Rock Climbing",
      "Golf simulator au Bunker",
      "Hike √† Fundy",
      "Show au Capitol",
      "Axe Throwing",
      "Weekend getaway", 
      "Escape Room",
      "Game des Wildcats",
      "USVA Spa",
      "DIY Studio"
    ];

    const jar = document.getElementById("jar");
    const memoryList = document.getElementById("memoryList");

    const month = new Date().getMonth() + 1;
    if(month >=3 && month <=5) document.body.classList.add('spring');
    else if(month >=6 && month <=8) document.body.classList.add('summer');
    else if(month >=9 && month <=11) document.body.classList.add('fall');
    else document.body.classList.add('winter');

    let memory = JSON.parse(localStorage.getItem('memory')) || [];
    refreshMemory();

    function refreshMemory() {
      memoryList.innerHTML = '';
      memory.forEach((d,i) => {
        const li = document.createElement('li');
        li.textContent = `${i+1}. ${d}`;
        memoryList.appendChild(li);
      });
    }

    function pickDate() {
      const random = Math.floor(Math.random() * dates.length);
      const chosen = dates[random];

      document.getElementById("result").textContent = chosen;

      memory.push(chosen);
      localStorage.setItem('memory', JSON.stringify(memory));

      refreshMemory();
      dropNote();
      spawnHearts();
    }

    function resetLast() {
      if(memory.length === 0) return;
      memory.pop();
      localStorage.setItem('memory', JSON.stringify(memory));
      refreshMemory();
      document.getElementById("result").textContent = "";
    }

    function dropNote() {
      const note = document.createElement("div");
      note.className = "note";
      note.textContent = "üìù";
      jar.appendChild(note);
      setTimeout(() => note.remove(), 1200);
    }

    function spawnHearts() {
      for (let i=0;i<6;i++) {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = "üíñ";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = 3 + Math.random() * 2 + "s";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),5000);
      }
    }
  </script>
</body>
</html>

